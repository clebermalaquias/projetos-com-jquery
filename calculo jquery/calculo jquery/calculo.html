<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title> Calculo com jquery</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script src="js/jquery-3.1.0.min.js"></script>
    <!-- css bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>

<body>

    <button type="button" class="btn" id="simples">Simples Nacional</button> 
    <button type="button" class="btn" id="lucro">Lucro Presumido</button> <br>

    Qual faturamento mensal da sua empresa? <br />
    <select name="faturamento" id="faturamento">
        <option value="1" selected>até R$25.000,00</option>
        <option value="2">de R$25.00,00 até R$50.000,00</option>
        <option value="5">de R$50.00,00 até R$100.000,00</option>
        <option value="7">de R$100.00,00 até R$150.000,00</option>
    </select><br />

    Numero de funcionarios:<br /><input type="number" name="funcionarios" id="funcionarios" size="30" value="0" min="0" max="10"/><br />
    Numero de socios na empresa:<br /> <input type="number" name="socios" id="socios" size="30" value="1" min="1" max="10"/><br />

    <input type="hidden" name="valor_unitario" id="valor_unitario" value="28" />


     
    <div>
    Valor total: <span id="valor_total_text"></span>
    </div>


    <!--scripts-->

    <script type="text/javascript">

    //var valor_total;
    $(document).ready(function(){
            
            var total = 0;
            var valor_base = 0;
            
            start(total);
            
            $("#simples").click(function(){
                valor_base = 16;
                total += valor_base;
                $(this).attr("disabled","disabled");
                $("#lucro").removeAttr('disabled');
                $("#valor_total_text").text("R$ " + total);
            });

             $("#lucro").click(function(){
                valor_base = 33;
                total += valor_base;
                $(this).attr("disabled","disabled");
                $("#simples").removeAttr('disabled');
                $("#valor_total_text").text("R$ " + total);
            });

            $("#faturamento").change(function(){

                // atualizaValor('faturamento','valor_unitario');
                total += Number($(this).val()) + valor_base;
                 $("#valor_total_text").text("R$ " + total);
                
            });  

            $("#funcionarios").change(function() {

                //atualizaValor('funcionarios','valor_unitario');
                total += Number($(this).val()) + valor_base;
                 $("#valor_total_text").text("R$ " + total);
            });   

             $('#socios').change(function() {
                //atualizaValor('socios','valor_unitario');
                if($(this).val() > 2){
                    total += Number($(this).val()) + valor_base;
                    $("#valor_total_text").text("R$ " + total);
                }
            });  

     
     
    });
     
   
    function start(total){
        //iniciando valor de mensalidade utilizando simples com 1 socio e faturamento 25000
        
        $("#simples").click();
        //total+= 16 * 2;
        //$("#valor_total_text").text("R$ " + total);

    }

  
    </script>
    <!-- Incluindo o JavaScript do Bootstrap -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>